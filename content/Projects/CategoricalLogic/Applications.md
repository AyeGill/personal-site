---
title: Applications
---
Given an index set $I$, an ultrafilter $\cl{F}$, and a collection of
subset inclusions $A_i \subset B_i$, we obtain a map
$\prod_{i\in I}^\cl{F} A_i \to \prod_{i\in I}^\cl{F} B_i$ on
ultraproducts. This map is an injection, and
$[b_i] \in \prod_{i\in I}^\cl{F} B_I$ is in the image precisely if
$\{i \in I \mid b_i \in A_i\}$ is in the ultrafilter.

Apply LÃ³s' theorem to the theory consisting of a single unary relation
symbol.

Let $I$ be a set, $\cl{F}$ be an ultrafilter on $I$. Let $\cl{C}_i$ be a
collection of finitely complete , and let $d_i: \square \to \cl{C}_i$ be
a collection of square diagrams. Let
$D: \square \to \prod_{i\in I}^\cl{F}\cl{C}_i$ be the induced diagram in
the ultraproduct category.

Then $[d_i]$ is cartesian if and only if the set
$\{i \in I \mid \text{$d_i$ is a pullback}\} \subset I$ is in $\cl{F}$.

Consider the three following finitely complete :

1.  $\tilde{\square}$ is the category generated freely by $\square$
    under finite limits.

2.  $\tilde{\lrcorner}$ is the category generated freely by two
    morphisms with a common codomain under finite limits.

3.  $\tilde{\square^c}$ is the category generated by $\square$ under
    finite limits, subject to the condition that the generating square
    is cartesian.

These exist by HTT.6.3.5.2. Note that $\tilde{\square}$ and
$\tilde{\lrcorner}$ are both compact (as objects of $\Cat_\infty^{fc}$),
being freely generated by finite simplicial sets. Moreover, there is a
canonical (finitely continuous) functor
$\tilde{\square} \to \tilde{\lrcorner}$, which sends the generating
square to the pullback of the two generating map.

For any finitely complete $\cl{D}$, the induced map
$$\Map(\tilde{\lrcorner},\cl{D}) \to \Map(\tilde{\square},\cl{D})$$
takes any $\lrcorner$-diagram to its pullback. By uniqueness of
pullbacks, and the finite completeness of $\cl{D}$, map is (equivalent
to) the inclusion of certain connected components of
$\Map(\tilde{\square},\cl{D})$, namely those diagrams which are
cartesian.

We now observe that compactness of these two categories implies that
$\Map(\tilde{\lrcorner},-)$ and $\Map(\tilde{\square},-)$ commute with
ultraproducts.

This implies that we have a commutative diagram

Now our collection of diagrams $d_i$ determines an element in the upper
right corner, $[d_i]$, the image of which in the lower right corner is
$D$.

Clearly $D$ is a pullback if and only if it is in the essential image of
the bottom map. Hence it suffices to consider the connected components -
note that $\pi_0$ preserves ultraproducts in $\cl{S}$.

Now it is clear that $D$ is in the image if and only if $[d_i]$ is in
the image on the top, and now the desired result follows from the Lemma.

Let $I$ be an index set, $\cl{F}$ an ultrafilter on it, and
$F_i: \cl{C}_i \to \cl{D}_i$ an $I$-index sequence of functors between .

Then consider the induced functor
$F = \prod_i^\cl{F} F_i : \prod_i^\cl{F} \cl{C}_i \to \prod_i^\cl{F} \cl{D}_i$.
Suppose $hF : h\prod_i^\cl{F} \cl{C}_i \to \prod_i^\cl{F} \cl{D}_i$ is
an equivalence of categories. Then the set of $i$ so that
$hF_i : h\cl{C}_i \to h\cl{D}_i$ is an equivalence is in $\cl{F}$.

Let $I_s$ be the set of $i$ so that $hF_i$ is essentially surjective.
Let $[D_i]$ be an object in $\prod^\cl{F}_i \cl{D}_i$ represented by a
sequence $D_i \in \cl{D}_i$. By assumption, $hF$ is essentially
surjective (th) we can find some object
$[C_i] \in \prod^\cl{F}_i \cl{C}_i$ so that
$hF([C_i]) = [F_i(C_i)] \simeq [D_i]$. Since $(-)^\simeq$ and $\pi_0$
both commute with filtered colimits and products, they commute with
ultraproducts, and so this implies that
$\{i \in I \mid F_i(C_i) \simeq D_i\}$ is in the ultrafilter. However,
suppose $I_s \notin \cl{F}$. Now choose a sequence $[D_i]$ so that, when
$i \notin I_s$, $D_i$ is not in the essential image of $F_i$. Then by
necessity $\{i \in I \mid F_i(C_i) \simeq D_i\}$ is a subset of $I_s$,
hence not in the ultrafilter. By contradiction, we see that $I_s$ must
be in the ultrafilter.

Analogously, let $I_f$ be the set of $i$ so that $hF_i$ is full For each
$i \notin I_f$, select two objects $X_i, Y_i \in \cl{C}_i$ and a map
$f_i: F(X_i) \to F(Y_i)$, which is not in the image of
$F_i : \Hom(X_i,Y_i) \to \Hom(F_i(X_i),F_i(Y_i))$. For each other $i$,
choose any $X_i, Y_i, f_i : F_i(X_i) \to F_i(Y_i)$ (for instance the
identity). This gives an element
$[f_i] \in \prod^{\cl{F}}_i \pi_0(\Map_{\cl{D_i}}(F_i(X_i),F_i(Y_i)))$.
Since $hF$ is full and ultraproducts commute with $\pi_0$ and
$\Map(-,-)$, we can find an element
$[g_i] \in \prod^{\cl{F}}_i \pi_0(\Map_{\cl{C_i}}(X_i,Y_i))$ so that
$F([g_i]) = [F_i(g_i)] \simeq [f_i]$. This implies $F_i(g_i) = f_i$ is
in the ultrafilter. But by construction of the sequence, this set must
be disjoint with $I_f^c$, so it's a subset of $I_f$. Hence $I_f$ is in
the ultrafilter.

The argument that $I_{fa}$, the set of $i$ with $hF_i$ faithful, is in
the ultrafilter, proceeds analogously. Here we instead choose $f_i,g_i$
that are sent to the same morphism in $\cl{D}_i$, for each $i$ where
this is possible.

Finally, $I_f \cap I_{fa} \cap I_s$ is a finite intersection of sets in
the ultrafilter - hence in the ultrafilter. But this is precisely the
set of $i$ so that $hF_i$ is an equivalence.
